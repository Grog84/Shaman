<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Main</name>
    <events>
        <variable constant="1" name="TILESIZE2" sid="347572452409448" static="0" type="number">64</variable>
        <event-group description="" sid="869951646668483" title="PlayerMovement">
            <sub-events>
                <event-block sid="962924781194926">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="421960906254302" type="Keyboard">
                            <param id="0" name="Key">37 (Left arrow)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="498121512582812" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="340491796961724">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="568909682896821" type="Keyboard">
                            <param id="0" name="Key">39 (Right arrow)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="547320375058957" type="Player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="596663314544974" title="PlayerActions">
            <sub-events>
                <event-block sid="728430774957627">
                    <conditions>
                        <condition id="2" name="Key is down" sid="556266847809806" type="Keyboard">
                            <param id="0" name="Key">39 (Right arrow)</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="901449393876289" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="243686880929528" type="Player">
                            <param id="0" name="X">Self.X + Self.Speed*dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="326121342074553">
                    <conditions>
                        <condition id="2" name="Key is down" sid="913617381950827" type="Keyboard">
                            <param id="0" name="Key">37 (Left arrow)</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="841638443326961" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="583086227971563" type="Player">
                            <param id="0" name="X">Self.X - Self.Speed*dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="209605510668669">
                    <conditions>
                        <condition id="0" name="On function" sid="206553444393611" type="Function">
                            <param id="0" name="Name">&quot;CreateGriglia&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="143414130309011" type="Player">
                            <param id="0" name="Object">Grigliainvisibile</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="429663049162744" type="Grigliainvisibile">
                            <param id="0" name="Instance variable">IsOnLayer</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="884091968167927" type="Player">
                            <param id="0" name="Instance variable">Earth</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="773067942213757">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="748761236757879" type="Keyboard">
                            <param id="0" name="Key">39 (Right arrow)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="891714947244871" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="659665909801408">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="926871440400961" type="Keyboard">
                            <param id="0" name="Key">37 (Left arrow)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="958088825361772" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="812120902191255">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="926371619105434" type="Keyboard">
                            <param id="0" name="Key">38 (Up arrow)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="884425175518175" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="375108047969866">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="244623423475277" type="Keyboard">
                            <param id="0" name="Key">40 (Down arrow)</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="236536116676554" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block any="1" sid="987804746009848">
                    <conditions>
                        <condition id="3" name="On key released" sid="984618640793061" type="Keyboard">
                            <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-14" name="Toggle boolean" sid="897547489019937" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </action>
                        <action behavior="Platform" id="0" name="Set ignoring input" sid="762152373527701" type="Player">
                            <param id="0" name="Input">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block any="1" sid="847404313798073">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="806933910355468" type="Keyboard">
                            <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-14" name="Toggle boolean" sid="130140575078326" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </action>
                        <action behavior="Platform" id="0" name="Set ignoring input" sid="346320517433901" type="Player">
                            <param id="0" name="Input">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="161042736256864">
                    <conditions>
                        <condition id="0" name="On function" sid="885225948014454" type="Function">
                            <param id="0" name="Name">&quot;StopMoving&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="310772973868707" type="Player">
                            <param id="0" name="Instance variable">Speed</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="552337361093779">
                    <conditions>
                        <condition id="3" name="On key released" sid="412156869896735" type="Keyboard">
                            <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="365554227102176" type="Player">
                            <param id="0" name="Instance variable">Speed</param>
                            <param id="1" name="Value">self.BaseSpeed</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="288388920159402" type="Grigliainvisibile">
                            <param id="0" name="Object">Tile_earth</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="225136369620439" type="Grigliainvisibile">
                            <param id="0" name="Instance variable">IsOnLayer</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-9" name="Destroy" sid="124650215074628" type="Grigliainvisibile" />
                    </actions>
                </event-block>
                <event-block sid="157079682878912">
                    <conditions>
                        <condition id="2" name="Key is down" sid="537277026988848" type="Keyboard">
                            <param id="0" name="Key">37 (Left arrow)</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="949332849494677" type="Keyboard">
                            <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="464099044711774" type="Function">
                            <param id="0" name="Name">&quot;StopMoving&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="153432709361149">
                    <conditions>
                        <condition id="2" name="Key is down" sid="176181027409422" type="Keyboard">
                            <param id="0" name="Key">39 (Right arrow)</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="512443485129000" type="Keyboard">
                            <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="157985877863128" type="Function">
                            <param id="0" name="Name">&quot;StopMoving&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="271551093779641">
                    <conditions>
                        <condition id="2" name="Key is down" sid="123738409142675" type="Keyboard">
                            <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="956829810004332" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="702291755561865" type="Player">
                            <param id="0" name="Instance variable">Earth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="816576787839454" type="Function">
                            <param id="0" name="Name">&quot;CreateGriglia&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="469719846766019">
                    <conditions>
                        <condition id="0" name="On function" sid="487787418444868" type="Function">
                            <param id="0" name="Name">&quot;PullTile&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="909172854340513">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="992010335731146" type="Tile">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="228260808878155">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="558022429311949" type="Player">
                                            <param id="0" name="Comparison">5</param>
                                            <param id="1" name="X co-ordinate">Tile_earth.X</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="824538278628637">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="433420311536863" type="Player">
                                                    <param id="0" name="Comparison">5</param>
                                                    <param id="1" name="Y co-ordinate">Tile_earth.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="127207506544321" type="Tile">
                                                    <param id="0" name="X">Self.X + Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y + Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="215851717702436">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="805745465535909" type="Player">
                                                    <param id="0" name="Comparison">2</param>
                                                    <param id="1" name="Y co-ordinate">Tile_earth.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="774959161134092" type="Tile">
                                                    <param id="0" name="X">Self.X + Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y - Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="979047394959661">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="780262038599286" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="160105281141055">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="444110996377147" type="Player">
                                                    <param id="0" name="Comparison">5</param>
                                                    <param id="1" name="Y co-ordinate">Tile_earth.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="528399614147380" type="Tile">
                                                    <param id="0" name="X">Self.X - Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y + Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="651698111291871">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="401715239807073" type="Player">
                                                    <param id="0" name="Comparison">2</param>
                                                    <param id="1" name="Y co-ordinate">Tile_earth.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="190737119938547" type="Tile">
                                                    <param id="0" name="X">Self.X - Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y - Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="612329302452838">
                    <conditions>
                        <condition id="0" name="On function" sid="427937225232321" type="Function">
                            <param id="0" name="Name">&quot;ShrinkTile&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="MinSize" sid="479806518546316" static="0" type="number">0</variable>
                        <event-block sid="174237145372940">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="907487369931216" type="Tile_earth">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                                <condition id="-6" name="Compare height" sid="256930444090482" type="Tile_earth">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Height">Function.Call(&quot;CalcSize&quot;, Player.X, Tile_earth.X)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-7" name="Set size" sid="872027747211327" type="Tile_earth">
                                    <param id="0" name="Width">self.Width - Self.ShrinkSpeedddd*dt</param>
                                    <param id="1" name="Height">self.Height - Self.ShrinkSpeedddd*dt</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="196558979530078">
                    <conditions>
                        <condition behavior="Bullet" id="1" name="Compare distance travelled" sid="666042706949471" type="Interaction">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Distance">self.TravelledDistance</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="524578520399588" type="Interaction" />
                    </actions>
                </event-block>
                <event-block sid="312512127218091">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="782192627402205" type="Interaction">
                            <param id="0" name="Object">Tile_earth</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="806752666501008" type="Interaction" />
                        <action id="-10" name="Set value" sid="585656484942374" type="Tile_earth">
                            <param id="0" name="Instance variable">IsAbsorbingddd</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="686649006340794">
                    <conditions>
                        <condition id="0" name="On click" sid="814261484145004" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="636075204176882">
                            <conditions>
                                <condition id="7" name="Is mirrored" sid="752488141718269" type="Player" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="525500099883599" type="Player">
                                    <param id="0" name="Object">Interaction</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="419146652149874" type="Interaction">
                                    <param id="0" name="Angle">180</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="897945189612434">
                            <conditions>
                                <condition id="-22" name="Else" sid="783663387214810" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="240370215386182" type="Player">
                                    <param id="0" name="Object">Interaction</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="325068717324314" title="Tiles">
            <sub-events>
                <event-block sid="173875883663566">
                    <conditions>
                        <condition id="0" name="On function" sid="946831154952172" type="Function">
                            <param id="0" name="Name">&quot;CalcSize&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set return value" sid="389801918472222" type="Function">
                            <param id="0" name="Value">5 + abs(Function.Param(0) - Function.Param(1))*0.197</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="706674981807436">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="661907287890420" type="Tile">
                            <param id="0" name="Instance variable">IsAbsorbing</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="819274457565236" type="Function">
                            <param id="0" name="Name">&quot;ShrinkTile&quot;</param>
                            <param id="1" name="Parameter {n}">Tile.UID</param>
                        </action>
                        <action id="0" name="Call function" sid="962140080001914" type="Function">
                            <param id="0" name="Name">&quot;PullTile&quot;</param>
                            <param id="1" name="Parameter {n}">Tile.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="297472952697575">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="935000722686062" type="Tile">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="582045001322111" type="Tile">
                            <param id="0" name="Instance variable">IsAbsorbing</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="478738700948160" type="Tile" />
                        <action id="-11" name="Add to" sid="479407522890742" type="Player">
                            <param id="0" name="Instance variable">Earth</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="622917753846583" title="LevelGeneration" />
    </events>
</c2eventsheet>
