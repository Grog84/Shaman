<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Main</name>
    <events>
        <variable constant="0" name="platformExisting" sid="877042634564734" static="0" type="number">1</variable>
        <variable constant="1" name="GRAVITY" sid="975299546861960" static="0" type="number">1000</variable>
        <variable constant="1" name="TILESIZE" sid="347572452409448" static="0" type="number">32</variable>
        <event-group description="" sid="869951646668483" title="PlayerMovement">
            <sub-events>
                <event-block sid="728430774957627">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="556266847809806" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">4</param>
                            <param id="3" name="Value">20</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="901449393876289" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="694658384689443" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="326121342074553">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="913617381950827" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">-20</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="841638443326961" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="643067725275147" type="Player">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="962924781194926">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="421960906254302" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">-20</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="729229532712107" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="498121512582812" type="PlayerSprite">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="340491796961724">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="568909682896821" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">4</param>
                            <param id="3" name="Value">20</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="713704033556144" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="417064051577153" type="PlayerSprite">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="353503066732644">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="336815684618203" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="758897528596363" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="421433406694517">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="737165593147929" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="278760499403746" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-1" name="Compare X" sid="233922116096420" type="Grigliainvisibile">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="X co-ordinate">PlayerSprite.X</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="874712131387946" type="PlayerSprite">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="334095347747620">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="659787440958888" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">4</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="130607004124940" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-1" name="Compare X" sid="629882029139501" type="Grigliainvisibile">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="X co-ordinate">PlayerSprite.X</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="249961181417407" type="PlayerSprite">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="413620257946245">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="370616708356988" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">1</param>
                            <param id="2" name="Comparison">4</param>
                            <param id="3" name="Value">30</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="786025038583362" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="324839163675720" type="System" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="743683850526417" type="PlayerSprite">
                            <param id="0" name="Animation">&quot;Crouch&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="258425404801822">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="572073580763086" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">1</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">30</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="182070911323669" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="323139708783395" type="System" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="654786601341081" type="PlayerSprite">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="596663314544974" title="PlayerActions">
            <sub-events>
                <event-block sid="209605510668669">
                    <conditions>
                        <condition id="0" name="On function" sid="206553444393611" type="Function">
                            <param id="0" name="Name">&quot;CreateGriglia&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="143414130309011" type="PlayerSprite">
                            <param id="0" name="Object">Grigliainvisibile</param>
                            <param id="1" name="Layer">0</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="-3" name="Set position" sid="792212817693423" type="Grigliainvisibile">
                            <param id="0" name="X">int(self.X/TILESIZE)*TILESIZE + TILESIZE/2.0</param>
                            <param id="1" name="Y">int(self.Y/TILESIZE)*TILESIZE + TILESIZE/2.0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="773067942213757">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="748761236757879" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">4</param>
                            <param id="3" name="Value">30</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="891714947244871" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="332623119890986" type="System" />
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="843952297693523" type="Grigliainvisibile">
                            <param id="0" name="X">self.X + TILESIZE</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="659665909801408">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="926871440400961" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">0</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">-30</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="958088825361772" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="842757844945594" type="System" />
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="575995467172998" type="Grigliainvisibile">
                            <param id="0" name="X">self.X - TILESIZE</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="812120902191255">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="926371619105434" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">1</param>
                            <param id="2" name="Comparison">2</param>
                            <param id="3" name="Value">-30</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="884425175518175" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="858047451137862" type="System" />
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="891972546134429" type="Grigliainvisibile">
                            <param id="0" name="Y">self.Y - TILESIZE</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="375108047969866">
                    <conditions>
                        <condition id="5" name="Compare axis" sid="919204579459830" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">1</param>
                            <param id="2" name="Comparison">4</param>
                            <param id="3" name="Value">30</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="236536116676554" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="597372712147596" type="System" />
                    </conditions>
                    <actions>
                        <action id="-2" name="Set Y" sid="746014735888352" type="Grigliainvisibile">
                            <param id="0" name="Y">self.Y + TILESIZE</param>
                        </action>
                    </actions>
                </event-block>
                <event-block any="1" sid="987804746009848">
                    <conditions>
                        <condition id="7" name="On button released" sid="984618640793061" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-14" name="Toggle boolean" sid="897547489019937" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </action>
                        <action id="-9" name="Destroy" sid="710928507332301" type="Grigliainvisibile" />
                    </actions>
                </event-block>
                <event-block sid="507882928577952">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="276371348515619" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">2</param>
                        </condition>
                        <condition id="3" name="Is button down" sid="425608551490808" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">5</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="622627091889059" type="Grigliainvisibile">
                            <param id="0" name="Instance variable">IsValid</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="705793142842376" type="Player">
                            <param id="0" name="Instance variable">TotalNumberOfTiles</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="609423153683964" type="Player">
                            <param id="0" name="Instance variable">TotalNumberOfTiles</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="232702358614801">
                            <conditions>
                                <condition id="2" name="Is playing" sid="328138767835403" type="Grigliainvisibile">
                                    <param id="0" name="Animation">&quot;Rock&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="884091968167927" type="Player">
                                    <param id="0" name="Instance variable">RockTiles</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="288388920159402" type="Grigliainvisibile">
                                    <param id="0" name="Object">Tile_earth</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action behavior="Physics" id="27" name="Set enabled" sid="823724315952586" type="Tile_earth">
                                    <param id="0" name="Mode">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="399326515094108" type="Tile_earth">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;Rock&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="873429507426308">
                            <conditions>
                                <condition id="2" name="Is playing" sid="545026178746180" type="Grigliainvisibile">
                                    <param id="0" name="Animation">&quot;Air&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="721072051021644" type="Player">
                                    <param id="0" name="Instance variable">AirTiles</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="501398407457307" type="Grigliainvisibile">
                                    <param id="0" name="Object">Tile_Air</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="794151669325351" type="Tile_Air">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;Air&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block any="1" sid="847404313798073">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="806933910355468" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-14" name="Toggle boolean" sid="130140575078326" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="271551093779641">
                    <conditions>
                        <condition id="3" name="Is button down" sid="123738409142675" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">5</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="702291755561865" type="Player">
                            <param id="0" name="Instance variable">RockTiles</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="956829810004332" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="816576787839454" type="Function">
                            <param id="0" name="Name">&quot;CreateGriglia&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="196558979530078">
                    <conditions>
                        <condition behavior="Bullet" id="1" name="Compare distance travelled" sid="666042706949471" type="Interaction">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Distance">self.TravelledDistance</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="524578520399588" type="Interaction" />
                    </actions>
                </event-block>
                <event-block sid="312512127218091">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="782192627402205" type="Interaction">
                            <param id="0" name="Object">Tile</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="806752666501008" type="Interaction" />
                        <action id="-10" name="Set value" sid="585656484942374" type="Tile">
                            <param id="0" name="Instance variable">IsAbsorbing</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="992053908044492">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="814092723715982" type="Interaction">
                            <param id="0" name="Object">BkgTile</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="495592380655592" type="Interaction" />
                    </actions>
                </event-block>
                <event-block sid="686649006340794">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="814261484145004" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">2</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="313941430699848" type="Player">
                            <param id="0" name="Instance variable">TilePositioning</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="636075204176882">
                            <conditions>
                                <condition id="7" name="Is mirrored" sid="752488141718269" type="PlayerSprite" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="525500099883599" type="PlayerSprite">
                                    <param id="0" name="Object">Interaction</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="419146652149874" type="Interaction">
                                    <param id="0" name="Angle">180</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="897945189612434">
                            <conditions>
                                <condition id="-22" name="Else" sid="783663387214810" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="469089094834918" type="PlayerSprite">
                                    <param id="0" name="Object">Interaction</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="100412388772528">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="737608412361250" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="692156624844985">
                            <conditions>
                                <condition id="2" name="Is playing" sid="158079822424379" type="Grigliainvisibile">
                                    <param id="0" name="Animation">&quot;Air&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="618314875818013" type="Grigliainvisibile">
                                    <param id="0" name="Animation">&quot;Rock&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="677739940405008">
                            <conditions>
                                <condition id="2" name="Is playing" sid="581452051465755" type="Grigliainvisibile">
                                    <param id="0" name="Animation">&quot;Rock&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="509851568157683" type="Grigliainvisibile">
                                    <param id="0" name="Animation">&quot;Air&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="325068717324314" title="Tiles">
            <sub-events>
                <event-group description="" sid="949320105067605" title="Air">
                    <sub-events>
                        <event-block sid="390433581343326">
                            <conditions>
                                <condition id="-11" name="For Each" sid="484788436224855" type="System">
                                    <param id="0" name="Object">Tile_Air</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="919225028048167" type="Player">
                                    <param id="0" name="Object">Tile_Air</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="555814800235730" type="System" />
                                <condition id="-7" name="Compare instance variable" sid="223961650157946" type="Tile_Air">
                                    <param id="0" name="Instance variable">nbrOfPlatforms</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="797191822084095" type="Player">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Y co-ordinate">Tile_Air.Y -18</param>
                                </condition>
                                <condition id="-14" name="Compare variable" sid="331801499643954" type="System">
                                    <param id="0" name="Variable">platformExisting</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="326621708823227" type="System">
                                    <param id="0" name="Object to create">cloudPlatform</param>
                                    <param id="1" name="Layer">0</param>
                                    <param id="2" name="X">Tile_Air.X</param>
                                    <param id="3" name="Y">Player.ImagePointY(1)</param>
                                </action>
                                <action id="-10" name="Add to" sid="892792194268229" type="System">
                                    <param id="0" name="Variable">platformExisting</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="588868668420109" type="cloudPlatform">
                                    <param id="0" name="Instance variable">AirTileUID</param>
                                    <param id="1" name="Value">Tile_Air.UID</param>
                                </action>
                                <action id="-10" name="Set value" sid="361814227710987" type="Tile_Air">
                                    <param id="0" name="Instance variable">platformUID</param>
                                    <param id="1" name="Value">cloudPlatform.UID</param>
                                </action>
                                <action id="-11" name="Add to" sid="420048656509645" type="Tile_Air">
                                    <param id="0" name="Instance variable">nbrOfPlatforms</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="384078931874265" type="Player">
                                    <param id="0" name="Instance variable">LastAirTile</param>
                                    <param id="1" name="Value">Tile_Air.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="299976193924381">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="781443557637082" type="Player">
                                    <param id="0" name="Object">Tile_Air</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="366189905775840" type="cloudPlatform">
                                    <param id="0" name="Object">Tile_Air</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="448739889987128" type="System">
                                    <param id="0" name="First value">cloudPlatform.Y - Player.ImagePointY(1)</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-2" name="Set Y" sid="550429934554611" type="cloudPlatform">
                                    <param id="0" name="Y">self.Y + self.FallingSpeed*dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="279996819815791">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="237781862375679" type="System">
                                    <param id="0" name="First value">cloudPlatform.Y - Player.ImagePointY(1)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">5</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="326124070349139" type="System">
                                    <param id="0" name="First value">cloudPlatform.X - Player.X</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">17</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="930499442915963" type="cloudPlatform" />
                                <action id="-11" name="Subtract from" sid="816683319654108" type="System">
                                    <param id="0" name="Variable">platformExisting</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="217660726901844">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="527249564435540" type="Tile_Air">
                                            <param id="0" name="Unique ID">cloudPlatform.AirTileUID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-12" name="Subtract from" sid="302600936113734" type="Tile_Air">
                                            <param id="0" name="Instance variable">nbrOfPlatforms</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="0" name="Set text" sid="950265267899484" type="Text">
                                            <param id="0" name="Text">Tile_Air.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="469719846766019">
                    <conditions>
                        <condition id="0" name="On function" sid="487787418444868" type="Function">
                            <param id="0" name="Name">&quot;PullTile&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="909172854340513">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="992010335731146" type="Tile">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="228260808878155">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="558022429311949" type="Player">
                                            <param id="0" name="Comparison">5</param>
                                            <param id="1" name="X co-ordinate">Tile.X</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="824538278628637">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="433420311536863" type="Player">
                                                    <param id="0" name="Comparison">5</param>
                                                    <param id="1" name="Y co-ordinate">Tile.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="127207506544321" type="Tile">
                                                    <param id="0" name="X">Self.X + Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y + Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="215851717702436">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="805745465535909" type="Player">
                                                    <param id="0" name="Comparison">2</param>
                                                    <param id="1" name="Y co-ordinate">Tile.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="774959161134092" type="Tile">
                                                    <param id="0" name="X">Self.X + Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y - Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="979047394959661">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="780262038599286" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="160105281141055">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="444110996377147" type="Player">
                                                    <param id="0" name="Comparison">5</param>
                                                    <param id="1" name="Y co-ordinate">Tile.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="528399614147380" type="Tile">
                                                    <param id="0" name="X">Self.X - Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y + Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="651698111291871">
                                            <conditions>
                                                <condition id="-2" name="Compare Y" sid="401715239807073" type="Player">
                                                    <param id="0" name="Comparison">2</param>
                                                    <param id="1" name="Y co-ordinate">Tile.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Set position" sid="190737119938547" type="Tile">
                                                    <param id="0" name="X">Self.X - Self.AbsorbSpeed*dt</param>
                                                    <param id="1" name="Y">Self.Y - Self.AbsorbSpeed*dt</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="612329302452838">
                    <conditions>
                        <condition id="0" name="On function" sid="427937225232321" type="Function">
                            <param id="0" name="Name">&quot;ShrinkTile&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="MinSize" sid="479806518546316" static="0" type="number">0</variable>
                        <event-block sid="174237145372940">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="907487369931216" type="Tile">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                                <condition id="-6" name="Compare height" sid="256930444090482" type="Tile">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Height">Function.Call(&quot;CalcSize&quot;, Player.X, Tile_earth.X)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-7" name="Set size" sid="872027747211327" type="Tile">
                                    <param id="0" name="Width">self.Width - Self.ShrinkSpeed*dt</param>
                                    <param id="1" name="Height">self.Height - Self.ShrinkSpeed*dt</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="173875883663566">
                    <conditions>
                        <condition id="0" name="On function" sid="946831154952172" type="Function">
                            <param id="0" name="Name">&quot;CalcSize&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set return value" sid="389801918472222" type="Function">
                            <param id="0" name="Value">5 + abs(Function.Param(0) - Function.Param(1))*0.01</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="706674981807436">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="661907287890420" type="Tile">
                            <param id="0" name="Instance variable">IsAbsorbing</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="819274457565236" type="Function">
                            <param id="0" name="Name">&quot;ShrinkTile&quot;</param>
                            <param id="1" name="Parameter {n}">Tile.UID</param>
                        </action>
                        <action id="0" name="Call function" sid="962140080001914" type="Function">
                            <param id="0" name="Name">&quot;PullTile&quot;</param>
                            <param id="1" name="Parameter {n}">Tile.UID</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="297472952697575">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="935000722686062" type="Tile">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="582045001322111" type="Tile">
                            <param id="0" name="Instance variable">IsAbsorbing</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="478738700948160" type="Tile" />
                        <action id="-11" name="Add to" sid="556183241281827" type="Player">
                            <param id="0" name="Instance variable">TotalNumberOfTiles</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="715833335742147">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="750868422284281" type="Tile">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;Rock&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="479407522890742" type="Player">
                                    <param id="0" name="Instance variable">RockTiles</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-group description="" sid="347963438686678" title="Rock">
                    <sub-events>
                        <event-block sid="386492667425129">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="406446588676924" type="Tile_earth">
                                    <param id="0" name="Instance variable">IsAbsorbing</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="872547607832201" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Solid" id="0" name="Set enabled" sid="127105377129615" type="Tile_earth">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="Physics" id="27" name="Set enabled" sid="191950866405522" type="Tile_earth">
                                    <param id="0" name="Mode">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="598087431357546">
                            <conditions>
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="140098541521932" type="Grigliainvisibile">
                                    <param id="0" name="Object">Obstacle</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="486383486894453" type="Grigliainvisibile">
                                    <param id="0" name="Frame number">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="149103927148233" type="Grigliainvisibile">
                                    <param id="0" name="Instance variable">IsValid</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="938859485084573">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="585194640587039" type="Grigliainvisibile">
                                    <param id="0" name="Object">Obstacle</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="167438103945010" type="Grigliainvisibile">
                                    <param id="0" name="Frame number">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="629258090527562" type="Grigliainvisibile">
                                    <param id="0" name="Instance variable">IsValid</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="622917753846583" title="LevelGeneration">
            <sub-events>
                <event-block sid="324851843193115">
                    <conditions>
                        <condition id="0" name="On function" sid="996317513277769" type="Function">
                            <param id="0" name="Name">&quot;CreateMap&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="11" name="Load" sid="536488720902631" type="MapArray">
                            <param id="0" name="JSON">AJAX.LastData</param>
                        </action>
                        <action id="0" name="Call function" sid="722855629171294" type="Function">
                            <param id="0" name="Name">&quot;FillWithTiles&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="755882932193496">
                    <conditions>
                        <condition id="0" name="On function" sid="973067390812389" type="Function">
                            <param id="0" name="Name">&quot;FillWithTiles&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="906248396253963">
                            <conditions>
                                <condition id="-10" name="For" sid="170151835150963" type="System">
                                    <param id="0" name="Name">&quot;X_idx&quot;</param>
                                    <param id="1" name="Start index">0</param>
                                    <param id="2" name="End index">MapArray.Width - 1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="605861572819942">
                                    <conditions>
                                        <condition id="-10" name="For" sid="156312337460349" type="System">
                                            <param id="0" name="Name">&quot;Y_idx&quot;</param>
                                            <param id="1" name="Start index">0</param>
                                            <param id="2" name="End index">MapArray.Height - 1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="580590829728219">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="249036937398070" type="System">
                                                    <param id="0" name="First value">MapArray.At(loopindex(&quot;X_idx&quot;), loopindex(&quot;Y_idx&quot;))</param>
                                                    <param id="1" name="Comparison">1</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="595276088171229">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="326243990097261" type="System">
                                                            <param id="0" name="First value">MapArray.At(loopindex(&quot;X_idx&quot;), loopindex(&quot;Y_idx&quot;))</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">18</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-3" name="Create object" sid="126347684723849" type="System">
                                                            <param id="0" name="Object to create">Tile_earth</param>
                                                            <param id="1" name="Layer">0</param>
                                                            <param id="2" name="X">loopindex(&quot;X_idx&quot;) * TILESIZE + TILESIZE/2.0</param>
                                                            <param id="3" name="Y">loopindex(&quot;Y_idx&quot;) * TILESIZE + TILESIZE/2.0</param>
                                                        </action>
                                                        <action id="-10" name="Set value" sid="852750419366310" type="Tile_earth">
                                                            <param id="0" name="Instance variable">IsFalling</param>
                                                            <param id="1" name="Value">0</param>
                                                        </action>
                                                        <action id="-10" name="Set value" sid="386489920628734" type="Tile_earth">
                                                            <param id="0" name="Instance variable">Type</param>
                                                            <param id="1" name="Value">&quot;Rock&quot;</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="796946280857699">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="102400143250377" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-3" name="Create object" sid="853980809817847" type="System">
                                                            <param id="0" name="Object to create">BkgTile</param>
                                                            <param id="1" name="Layer">0</param>
                                                            <param id="2" name="X">loopindex(&quot;X_idx&quot;) * TILESIZE + TILESIZE/2.0</param>
                                                            <param id="3" name="Y">loopindex(&quot;Y_idx&quot;) * TILESIZE + TILESIZE/2.0</param>
                                                        </action>
                                                        <action id="5" name="Set frame" sid="448729929940360" type="BkgTile">
                                                            <param id="0" name="Frame number">MapArray.At(loopindex(&quot;X_idx&quot;), loopindex(&quot;Y_idx&quot;))</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
