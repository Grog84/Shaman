<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>esBossLevel1</name>
    <events>
        <include>Main</include>
        <event-block sid="388484266233583">
            <conditions>
                <condition id="-2" name="On start of layout" sid="655726518416584" type="System" />
            </conditions>
            <actions>
                <action behavior="Pin" id="0" name="Pin to object" sid="310794131295075" type="PlayerSprite">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="635084112703751" type="GlobeArea">
                    <param id="0" name="Pin to">Boss</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="642923082623629" type="AnaFoot">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="439373569603597" type="AnaHead">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">0</param>
                </action>
            </actions>
            <sub-events>
                <comment>Activates or deactivates tiles selection/absorption</comment>
                <event-block sid="213023151429038">
                    <conditions />
                    <actions>
                        <action id="3" name="Set at XY" sid="203562739976337" type="TilePosType">
                            <param id="0" name="X">0</param>
                            <param id="1" name="Y">0</param>
                            <param id="2" name="Value">&quot;Rock&quot;</param>
                        </action>
                        <action id="3" name="Set at XY" sid="843290848808157" type="TilePosType">
                            <param id="0" name="X">0</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">1</param>
                        </action>
                        <action id="3" name="Set at XY" sid="660967393550675" type="TilePosType">
                            <param id="0" name="X">1</param>
                            <param id="1" name="Y">0</param>
                            <param id="2" name="Value">&quot;Air&quot;</param>
                        </action>
                        <action id="3" name="Set at XY" sid="282166005351800" type="TilePosType">
                            <param id="0" name="X">1</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">0</param>
                        </action>
                        <action id="3" name="Set at XY" sid="247725416273280" type="TilePosType">
                            <param id="0" name="X">2</param>
                            <param id="1" name="Y">0</param>
                            <param id="2" name="Value">&quot;Water&quot;</param>
                        </action>
                        <action id="3" name="Set at XY" sid="704997546492913" type="TilePosType">
                            <param id="0" name="X">2</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">0</param>
                        </action>
                        <action id="3" name="Set at XY" sid="138377094913971" type="TilePosType">
                            <param id="0" name="X">3</param>
                            <param id="1" name="Y">0</param>
                            <param id="2" name="Value">&quot;Fire&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="886360239308592">
                    <conditions />
                    <actions>
                        <action id="0" name="Call function" sid="692467680792278" type="Function">
                            <param id="0" name="Name">&quot;SetHUDTileVisibility&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="0" name="Call function" sid="861147704638065" type="Function">
                            <param id="0" name="Name">&quot;SetHUDTileNumber&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="155438753986501">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="843252166395914" type="Boss">
                    <param id="0" name="Instance variable">isMoving</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-1" name="Set X" sid="837001156163485" type="Boss">
                    <param id="0" name="X">self.X + self.Speed*dt*self.direction</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="467393074305560">
            <conditions>
                <condition id="0" name="On collision with another object" sid="736503916411159" type="Boss">
                    <param id="0" name="Object">TriggerRight</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="968939935760564" type="Boss">
                    <param id="0" name="Instance variable">direction</param>
                    <param id="1" name="Value">-1</param>
                </action>
                <action id="-10" name="Set value" sid="844113915694782" type="Boss">
                    <param id="0" name="Instance variable">spawnBlocks</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action behavior="Sine" id="0" name="Set active" sid="871343022485526" type="CaveBkg">
                    <param id="0" name="State">1</param>
                </action>
                <action behavior="Timer" id="0" name="Start timer" sid="325599110314876" type="CaveBkg">
                    <param id="0" name="Duration">self.shakeDuration</param>
                    <param id="1" name="Type">0</param>
                    <param id="2" name="Tag">&quot;shake&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="692938258909780">
            <conditions>
                <condition id="0" name="On collision with another object" sid="515686515748932" type="Boss">
                    <param id="0" name="Object">TriggerLeft</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="370176336299012" type="Boss">
                    <param id="0" name="Instance variable">direction</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="977733801687345">
            <conditions>
                <condition id="0" name="On function" sid="871112262299625" type="Function">
                    <param id="0" name="Name">&quot;Boss1GenerateTileDrop&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="randomNumber" sid="313593220654228" static="0" type="number">0</variable>
                <variable constant="0" name="tries" sid="438982194280158" static="0" type="number">0</variable>
                <variable constant="0" name="i" sid="794744345193212" static="0" type="number">0</variable>
                <event-block sid="994004179702867">
                    <conditions>
                        <condition id="-23" name="While" sid="432414688691589" type="System" />
                        <condition id="-14" name="Compare variable" sid="412250085701097" type="System">
                            <param id="0" name="Variable">i</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">BossTileSpwn.Width</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="989182705352196" type="System">
                            <param id="0" name="Variable">randomNumber</param>
                            <param id="1" name="Value">int(random(9, 14))</param>
                        </action>
                        <action id="-10" name="Add to" sid="649569479702817" type="System">
                            <param id="0" name="Variable">tries</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="954112793072982">
                            <conditions>
                                <condition id="5" inverted="1" name="Contains value" sid="738081674843760" type="BossTileSpwn">
                                    <param id="0" name="Value">randomNumber</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="2" name="Set at X" sid="984568098163260" type="BossTileSpwn">
                                    <param id="0" name="X">i</param>
                                    <param id="1" name="Value">randomNumber</param>
                                </action>
                                <action id="-10" name="Add to" sid="988770716384372" type="System">
                                    <param id="0" name="Variable">i</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="506705210548189">
                    <conditions>
                        <condition id="3" name="For each element" sid="960108578969017" type="BossTileSpwn">
                            <param id="0" name="Axes">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="234552482081667" type="System">
                            <param id="0" name="Object to create">TileDrop</param>
                            <param id="1" name="Layer">&quot;Tiles&quot;</param>
                            <param id="2" name="X">BossTileSpwn.CurValue*32 -16</param>
                            <param id="3" name="Y">32</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="212724018033110">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="241599924489283" type="TileDrop">
                    <param id="0" name="Object">TileDrop</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="992882904685534">
                    <conditions>
                        <condition id="-1" name="Compare X" sid="506811900782915" type="TileDrop">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="X co-ordinate">LayoutWidth - 128</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="282251579986370" type="TileDrop">
                            <param id="0" name="X">self.X + 32</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="748193076918971">
                    <conditions>
                        <condition id="-22" name="Else" sid="984411526993738" type="System" />
                    </conditions>
                    <actions>
                        <action id="-1" name="Set X" sid="829866168726852" type="TileDrop">
                            <param id="0" name="X">self.X - 32</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="824332139610552">
            <conditions>
                <condition id="-18" name="On created" sid="307247433413663" type="TileDrop" />
            </conditions>
            <actions>
                <action id="-16" name="Wait" sid="613485378665786" type="System">
                    <param id="0" name="Seconds">0.5</param>
                </action>
                <action id="0" name="Spawn another object" sid="283356821691224" type="TileDrop">
                    <param id="0" name="Object">Tile_earth</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
                <action id="-9" name="Destroy" sid="406599561321227" type="TileDrop" />
            </actions>
        </event-block>
        <event-block sid="876761968465244">
            <conditions>
                <condition id="0" name="On collision with another object" sid="313388107804154" type="AnaFoot">
                    <param id="0" name="Object">GlobeArea</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="629614724801375" type="Boss">
                    <param id="0" name="Instance variable">isMoving</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="0" name="Set text" sid="813681713311876" type="Debugtext">
                    <param id="0" name="Text">&quot;Yeee&quot;</param>
                </action>
                <action behavior="Platform" id="5" name="Set gravity" sid="691106339146726" type="Player">
                    <param id="0" name="Gravity">0</param>
                </action>
                <action behavior="Platform" id="0" name="Set ignoring input" sid="838463456900000" type="Player">
                    <param id="0" name="Input">1</param>
                </action>
                <action behavior="Sine" id="0" name="Set active" sid="491595165247260" type="Boss">
                    <param id="0" name="State">1</param>
                </action>
                <action id="-16" name="Wait" sid="703435634968919" type="System">
                    <param id="0" name="Seconds">3</param>
                </action>
                <action behavior="Sine" id="0" name="Set active" sid="430541853666728" type="Boss">
                    <param id="0" name="State">0</param>
                </action>
                <action id="-2" name="Go to layout" sid="591969995579628" type="System">
                    <param id="0" name="Layout">Level2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="770664239707310">
            <conditions>
                <condition id="0" name="On collision with another object" sid="629022483591253" type="Player">
                    <param id="0" name="Object">Boss</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="197505135705383" type="Player">
                    <param id="0" name="Instance variable">IsImmune</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-11" name="Subtract from" sid="635077402838283" type="System">
                    <param id="0" name="Variable">PlayerHealth</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="0" name="Call function" sid="658958008740759" type="Function">
                    <param id="0" name="Name">&quot;Knockback&quot;</param>
                    <param id="1" name="Parameter {n}">-1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="981595736942276">
            <conditions>
                <condition id="0" name="On collision with another object" sid="299683366937153" type="Boss">
                    <param id="0" name="Object">Tile_earth</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="884658785408639" type="Tile_earth">
                    <param id="0" name="Instance variable">IsAbsorbing</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="197876024445610" type="Tile_earth" />
            </actions>
        </event-block>
        <event-block sid="109489360367006">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="491524482735367" type="Boss">
                    <param id="0" name="Instance variable">spawnBlocks</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="342121978930972" type="Boss">
                    <param id="0" name="Instance variable">spawnBlocks</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="0" name="Call function" sid="404252218495080" type="Function">
                    <param id="0" name="Name">&quot;Boss1GenerateTileDrop&quot;</param>
                    <param id="1" name="Parameter {n}"></param>
                </action>
            </actions>
        </event-block>
        <event-block sid="206197058306313">
            <conditions>
                <condition id="0" name="On collision with another object" sid="332946466073857" type="Tile_earth">
                    <param id="0" name="Object">AnaHead</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Call function" sid="372856586081148" type="Function">
                    <param id="0" name="Name">&quot;Knockback&quot;</param>
                    <param id="1" name="Parameter {n}">-1</param>
                </action>
                <action id="-11" name="Subtract from" sid="438590062054450" type="System">
                    <param id="0" name="Variable">PlayerHealth</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="769168613065320">
            <conditions>
                <condition behavior="Timer" id="0" name="On timer" sid="448518188118210" type="CaveBkg">
                    <param id="0" name="Tag">&quot;shake&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Sine" id="0" name="Set active" sid="110258644458671" type="CaveBkg">
                    <param id="0" name="State">0</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
